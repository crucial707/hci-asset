{{define "title"}}Active Scans{{end}}
{{define "content"}}
<h1>Active Scans</h1>
<p>Start a one-off scan or run a <a href="/saved-scans">saved scan</a>. Clear the list below to start fresh.</p>
<form method="post" action="/scans">
  <label for="target">Target (IP, range, or CIDR)</label>
  <input type="text" id="target" name="target" placeholder="e.g. 192.168.1.0/24" required>
  <button type="submit">Start scan</button>
</form>
{{if .Scans}}
<h2>Scan list</h2>
<form method="post" action="/scans/clear" onsubmit="return confirm('Remove all scan jobs from this list? Running scans will finish but disappear from the list.');">
  <button type="submit">Clear all scans</button>
</form>
<table>
  <thead><tr><th>Job</th><th>Target</th><th>Status</th><th>Started</th><th></th></tr></thead>
  <tbody>
  {{range .Scans}}<tr>
    <td>{{.ID}}</td>
    <td>{{.Target}}</td>
    <td>{{.Status}}</td>
    <td>{{.StartedAt}}</td>
    <td><a href="/scans/{{.ID}}">View</a></td>
  </tr>{{end}}
  </tbody>
</table>
{{else}}
<p>No scans in the list. Start one above or run a saved scan; use &quot;Clear all scans&quot; to empty this list anytime.</p>
{{end}}
{{end}}
